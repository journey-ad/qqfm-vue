(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{1470:function(t,e,r){"use strict";var o=r("2493"),s=r.n(o);s.a},2493:function(t,e,r){},4886:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"category-list"},[r("Shortcut",{attrs:{categoryList:t.categoryList,categoryID:t.categoryID},on:{goAnchor:t.goAnchor}}),r("Category",{ref:"category",attrs:{categoryList:t.categoryList,categoryID:t.categoryID},on:{setCategoryIndex:t.setCategoryIndex}}),r("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"category-shortcut"},[r("ul",{on:{click:t.goAnchor}},t._l(t.categoryList,function(e){return r("li",{key:e.id,class:{active:t.getCategoryID===e.id},attrs:{"data-id":e.id}},[t._v(t._s(e.type))])}),0)])},n=[],l=r("f8c8"),c={data:function(){return{}},computed:{getCategoryID:function(){return this.categoryID}},props:["categoryList","categoryID"],methods:{goAnchor:function(t){"LI"===t.target.tagName&&this.$emit("goAnchor",t.target.dataset.id)}},mounted:function(){}},a=c,u=(r("76fd"),r("2877")),h=Object(u["a"])(a,i,n,!1,null,"499ebae9",null),f=h.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("scroll",{ref:"childList",staticClass:"category",attrs:{probeType:3,"listen-scroll":!0},on:{scroll:t.onScroll}},[t.categoryList.length?r("ul",{staticClass:"child-category"},t._l(t.categoryList,function(e){return r("li",{key:e.id,ref:"listCategory",refInFor:!0,staticClass:"list-category"},[r("router-link",{staticClass:"list-category-type",attrs:{to:{name:"subCategory",params:{id:e.id,type:e.type}},tag:"div","data-type":e.id}},[r("i",{staticClass:"iconfont icon-diamond"}),t._v("\n        "+t._s(e.type)+"\n      ")]),r("uL",{staticClass:"sub"},t._l(e.list,function(e){return r("router-link",{key:e.id,staticClass:"list-category-sub",attrs:{to:{name:"subCategory",params:{id:e.id,type:e.name}},tag:"li"}},[r("span",{staticClass:"name"},[t._v(t._s(e.name))])])}),1)],1)}),0):t._e()])},y=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"wrapper"},[t._t("default")],2)},p=[],m=(r("c5f6"),r("b5ae")),v=r("1fba"),b={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;Object(m["a"])(function(){t._initScroll()},this.refreshDelay)},methods:{_initScroll:function(){var t=this;if(!this.$refs.wrapper)return!1;if(this.scroll=new v["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(t){e.$emit("scroll",t)})}return this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")}),!0},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;Object(m["a"])(function(){t.refresh()},this.refreshDelay)}}},C=b,I=Object(u["a"])(C,d,p,!1,null,null,null),_=I.exports,L=(r("2ef0"),{data:function(){return{scrollY:-1,currentIndex:0,listHeight:[]}},props:["categoryList","categoryID"],methods:{goAnchor:function(t){var e=this.$el.querySelector('[data-type="'.concat(t,'"]'));this.$refs.childList.scrollToElement(e,0)},_calculateHeight:function(){this.listHeight=[];var t=this.$refs.listCategory,e=0;this.listHeight.push(e);for(var r=0;r<t.length;r++){var o=t[r];e+=o.clientHeight,this.listHeight.push(e)}},onScroll:function(t){this.scrollY=t.y}},watch:{categoryList:function(){var t=this;requestAnimationFrame(function(){t._calculateHeight()})},scrollY:function(t){var e=this.listHeight;if(t>0)this.currentIndex=0;else{for(var r=0;r<e.length-1;r++){var o=e[r]-100,s=e[r+1]-100;if(-t>=o&&-t<s)return void(this.currentIndex=r)}this.currentIndex=e.length-2}},currentIndex:function(t){this.$emit("setCategoryIndex",t)}},mounted:function(){},components:{Scroll:_}}),D=L,S=(r("d5a4"),Object(u["a"])(D,g,y,!1,null,"69c5106e",null)),$=S.exports,x={data:function(){return{categoryID:"39092",categoryList:[]}},methods:{setCategoryID:function(t){this.categoryID=""+t},setCategoryIndex:function(t){console.log(t),this.setCategoryID(this.categoryList[t].id)},goAnchor:function(t){this.setCategoryID(t),this.$refs.category.goAnchor(t)},getCategoryList:function(){this.categoryList=l["a"].getCategory()}},mounted:function(){this.getCategoryList()},components:{Shortcut:f,Category:$}},w=x,k=(r("1470"),Object(u["a"])(w,o,s,!1,null,"e027d57a",null));e["default"]=k.exports},"6ecd":function(t,e,r){},"76fd":function(t,e,r){"use strict";var o=r("6ecd"),s=r.n(o);s.a},d465:function(t,e,r){},d5a4:function(t,e,r){"use strict";var o=r("d465"),s=r.n(o);s.a}}]);
//# sourceMappingURL=category.145d713f.js.map