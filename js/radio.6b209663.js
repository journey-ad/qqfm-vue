(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["radio"],{1149:function(t,i,s){"use strict";var e=s("86f7"),a=s.n(e);a.a},1773:function(t,i,s){"use strict";var e=s("b1a9"),a=s.n(e);a.a},2218:function(t,i,s){"use strict";var e=s("68b1"),a=s.n(e);a.a},"2d08":function(t,i,s){"use strict";s.d(i,"a",function(){return e}),s.d(i,"b",function(){return n});s("7f7f");function e(t,i){t.classList.add(i)}var a=document.createElement("div").style,o=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var i in t)if(void 0!==a[t[i]])return i;return!1}();function n(t){return!1!==o&&("standard"===o?t:o+t.charAt(0).toUpperCase()+t.substr(1))}},"2e08":function(t,i,s){var e=s("9def"),a=s("9744"),o=s("be13");t.exports=function(t,i,s,n){var r=String(o(t)),c=r.length,l=void 0===s?" ":String(s),u=e(i);if(u<=c||""==l)return r;var h=u-c,d=a.call(l,Math.ceil(h/l.length));return d.length>h&&(d=d.slice(0,h)),n?d+r:r+d}},"3ea7":function(t,i,s){},"68b1":function(t,i,s){},"86f7":function(t,i,s){},9617:function(t,i,s){},9744:function(t,i,s){"use strict";var e=s("4588"),a=s("be13");t.exports=function(t){var i=String(a(this)),s="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(s+=i);return s}},b1a9:function(t,i,s){},b3ad:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"radio"},[e("div",{staticClass:"player-wrap"},[e("div",{staticClass:"header"},[e("div",{staticClass:"iconfont icon-arrow",on:{click:function(i){return t.$router.back()}}}),e("div",{staticClass:"meta"},[e("div",{staticClass:"title"},[t._v(t._s(t.player.show.title))]),e("div",{staticClass:"album"},[t._v(t._s(t.player.show.album))])]),e("i",{staticClass:"iconfont icon-device menu"})]),e("div",{staticClass:"player"},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.player.show.cover?t.player.show.cover:s("1579"),alt:t.player.show.title}}),e("div",{staticClass:"mask"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.volume.show,expression:"volume.show"}],ref:"volumeBar",staticClass:"volume-bar"},[e("div",{ref:"volumeLine",staticClass:"line"},[e("div",{ref:"volumePoint",staticClass:"point",attrs:{"data-value":t.volume.value},on:{touchstart:function(i){return i.preventDefault(),t.volumeTouchStart(i)},touchmove:function(i){return i.preventDefault(),t.volumeTouchMove(i)},touchend:t.volumeTouchEnd}})])]),e("i",{staticClass:"btn iconfont",class:t.soundBtnClass,on:{click:t.toggleVolumeBar}})]),e("div",{staticClass:"pannel"},[e("progress-bar",{attrs:{progress:t.progress,currentTime:t.currentTime,durationTime:t.durationTime},on:{percentChanging:t.onProgressBarChanging,percentChange:t.onProgressBarChange}}),e("div",{staticClass:"eq"},[e("div",{staticClass:"btn quality"},[t._v("标准")]),e("div",{staticClass:"btn speed",on:{click:t.showlaybackRate}},[t._v("语速")])]),e("div",{staticClass:"control"},[e("div",{staticClass:"iconfont btn icon-backward",on:{click:t.backward}}),e("div",{staticClass:"iconfont btn icon-prev",on:{click:t.prev}}),e("div",{class:t.playBtnClass,on:{click:t.toggle}}),e("div",{staticClass:"iconfont btn icon-next",on:{click:t.next}}),e("div",{staticClass:"iconfont btn icon-forward",on:{click:t.forward}})])],1)]),e("div",{staticClass:"footer"},[e("i",{staticClass:"iconfont icon-fav"}),e("i",{staticClass:"iconfont icon-download"}),e("i",{staticClass:"iconfont icon-alarm"}),e("i",{staticClass:"iconfont icon-playlist",on:{click:t.showPlaylist}})])]),e("playlist",{class:{active:t.isPlaylistShow}}),e("playback-rate",{attrs:{isplaybackRateShow:t.isplaybackRateShow},on:{hidePlaybackRate:t.hidePlaybackRate}})],1)},a=[],o=s("cebc"),n=(s("68ef"),s("9617"),s("a142")),r=s("3875"),c=s("db78"),l=Object(n["g"])("slider"),u=l[0],h=l[1],d=u({mixins:[r["a"]],props:{min:Number,value:Number,disabled:Boolean,vertical:Boolean,activeColor:String,inactiveColor:String,max:{type:Number,default:100},step:{type:Number,default:1},barHeight:{type:String,default:"2px"}},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.startValue=this.format(this.value))},onTouchMove:function(t){if(Object(c["c"])(t,!0),!this.disabled){this.touchMove(t);var i=this.$el.getBoundingClientRect(),s=this.vertical?this.deltaY:this.deltaX,e=this.vertical?i.height:i.width,a=s/e*100;this.newValue=this.startValue+a,this.updateValue(this.newValue)}},onTouchEnd:function(){this.disabled||this.updateValue(this.newValue,!0)},onClick:function(t){if(t.stopPropagation(),!this.disabled){var i=this.$el.getBoundingClientRect(),s=this.vertical?t.clientY-i.top:t.clientX-i.left,e=this.vertical?i.height:i.width,a=s/e*100;this.updateValue(a,!0)}},updateValue:function(t,i){t=this.format(t),this.$emit("input",t),i&&this.$emit("change",t)},format:function(t){return Math.round(Math.max(this.min,Math.min(t,this.max))/this.step)*this.step}},render:function(t){var i,s=this.vertical,e={background:this.inactiveColor},a=s?"height":"width",o=s?"width":"height",n=(i={},i[a]=this.format(this.value)+"%",i[o]=this.barHeight,i.background=this.activeColor,i);return t("div",{style:e,class:h({disabled:this.disabled,vertical:s}),on:{click:this.onClick}},[t("div",{class:h("bar"),style:n},[t("div",{class:h("button-wrapper"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots("button")||t("div",{class:h("button")})])])])}}),v=s("2b0e"),f=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"progress"},[s("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progressClick}},[s("div",{ref:"line",staticClass:"line"},[s("div",{ref:"progressPoint",staticClass:"point",on:{touchstart:function(i){return i.preventDefault(),t.progressTouchStart(i)},touchmove:function(i){return i.preventDefault(),t.progressTouchMove(i)},touchend:t.progressTouchEnd}})])]),s("div",{staticClass:"time"},[s("div",{staticClass:"current"},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"total"},[t._v(t._s(t.durationTime))])])])},p=[],m=s("2d08"),g=(Object(m["b"])("transform"),{props:["progress","currentTime","durationTime"],watch:{progress:function(t){if(t>=0&&!this.touch.initiated){var i=this.$refs.progressBar.clientWidth,s=t/100*i;this._offset(s)}}},methods:{progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.line.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var i=t.touches[0].pageX-this.touch.startX,s=Math.min(this.$refs.progressBar.clientWidth,Math.max(0,this.touch.left+i));this._offset(s),this.$emit("percentChanging",this._getPercent())}},progressTouchEnd:function(){this.touch.initiated=!1,this._triggerPercent()},progressClick:function(t){var i=this.$refs.progressBar.getBoundingClientRect(),s=t.pageX-i.left;this._offset(s),this._triggerPercent()},_triggerPercent:function(){var t=this.$refs.progressBar.clientWidth,i=this.$refs.line.clientWidth/t;this.$emit("percentChange",i)},_offset:function(t){this.$refs.line.dataset.progress=t,this.$refs.line.style.width="".concat(t,"px")},_getPercent:function(){var t=this.$refs.progressBar.clientWidth;return this.$refs.line.clientWidth/t}},created:function(){this.touch={}}}),b=g,C=(s("ff27"),s("2877")),y=Object(C["a"])(b,f,p,!1,null,"69c7b468",null),w=y.exports,k=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"playlist-mask"}),s("div",{staticClass:"playlist"},[s("div",{staticClass:"list-header"},[s("div",{staticClass:"mode"},[s("i",{staticClass:"iconfont",class:t.mode.class}),s("span",{staticClass:"text"},[t._v(t._s(t.mode.text+"("+t.player.playlist.length+"集)"))])])]),s("ul",{staticClass:"list"},t._l(t.player.playlist,function(i,e){return s("li",{key:i.id,staticClass:"show",class:{current:t.player.show.id===i.id},attrs:{"data-id":i.id},on:{click:function(i){return t.play(e)}}},[s("div",{staticClass:"title"},[t._v(t._s(i.name))]),s("div",{staticClass:"meta"},[s("span",{staticClass:"album"},[t._v(t._s(i.album))]),s("span",[t._v("|")]),s("span",{staticClass:"category"})])])}),0),s("div",{staticClass:"close",on:{click:t.hide}},[t._v("关闭")])])])},T=[],_=s("b21a"),P=s("2f62"),$={data:function(){return{}},methods:{hide:function(){this.$store.commit("HIDEPLAYLIST")},play:function(t){this.$store.dispatch("play",{index:t})}},computed:Object(o["a"])({mode:function(){var t=this.player.mode;return t===_["a"].sequence?{text:"顺序播放",class:"icon-cycle"}:t===_["a"].random?{text:"随机播放",class:"icon-random"}:{text:"单曲循环",class:"icon-single-cycle"}}},Object(P["c"])(["playBtnClass","player"]))},S=$,x=(s("2218"),Object(C["a"])(S,k,T,!1,null,"fcdc8e5c",null)),B=x.exports,R=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"playback-rate",class:{active:t.isplaybackRateShow}},[s("div",{staticClass:"rate-mask"}),s("div",{staticClass:"rate"},[s("div",{staticClass:"header"},[t._v("语速调整")]),s("div",{ref:"line",staticClass:"ratebar"},[s("div",{staticClass:"key"}),s("div",{staticClass:"key"}),s("div",{staticClass:"key"}),s("div",{staticClass:"key"}),s("div",{ref:"point",staticClass:"point",attrs:{"data-ratio":t.ratioText},on:{touchstart:function(i){return i.preventDefault(),t.progressTouchStart(i)},touchmove:function(i){return i.preventDefault(),t.progressTouchMove(i)},touchend:t.progressTouchEnd}})]),s("div",{staticClass:"close",on:{click:t.hidePlaybackRate}},[t._v("确定")])])])},E=[],M=(s("ed50"),s("e7e5"),s("d399"));v["a"].use(M["a"]);var O={data:function(){return{ratio:"1.0"}},props:["isplaybackRateShow"],methods:{hidePlaybackRate:function(){this.$emit("hidePlaybackRate")},play:function(t){},progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.lineWidth=this.$refs.line.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var i=t.touches[0].pageX-25;i<0||i>this.touch.lineWidth||this._offset(i)}},progressTouchEnd:function(){this.touch.initiated=!1,this.$store.dispatch("setPlaybackRate",this.ratio),Object(M["a"])("播放速率调整为".concat(this.ratio,"x"))},_offset:function(t){this.ratio=(t/this.touch.lineWidth*1.5+.5).toFixed(2),this.$refs.point.style.left="".concat(t-5,"px")}},computed:{ratioText:function(){return String(this.ratio).padEnd(4,"0")}},created:function(){this.touch={}}},V=O,j=(s("1773"),Object(C["a"])(V,R,E,!1,null,"5352a69e",null)),W=j.exports;v["a"].use(d);var X={data:function(){return{volume:{show:!1,value:1,touch:{}},isplaybackRateShow:!1}},props:{},methods:Object(o["a"])({showPlaylist:function(){this.$store.commit("SHOWPLAYLIST")},hidePlaylist:function(){this.$store.commit("HIDEPLAYLIST")},showlaybackRate:function(){this.isplaybackRateShow=!0},hidePlaybackRate:function(){this.isplaybackRateShow=!1},onProgressBarChanging:function(t){},onProgressBarChange:function(t){var i=this.player.duration*t;this.setProgress(i),this.player.playing||this.toggle()},volumeTouchStart:function(t){this.volume.touch.initiated=!0,this.volume.touch.startY=this.volume.touch.startY||t.touches[0].pageY,this.volume.touch.height=this.$refs.volumeBar.clientHeight},volumeTouchMove:function(t){if(this.volume.touch.initiated){var i=this.volume.touch.startY+this.volume.touch.height-t.touches[0].pageY;i<0||i>this.volume.touch.height||this._offsetVolume(i)}},volumeTouchEnd:function(){},_offsetVolume:function(t){var i=t/this.volume.touch.height;this.volume.value=(i>.95?1:i>.15?i:0).toFixed(2),this.$refs.volumeLine.style.height="".concat(t,"px"),this.$store.dispatch("setVolume",""+this.volume.value)},toggleVolumeBar:function(){this.volume.show=!this.volume.show}},Object(P["b"])(["backward","prev","toggle","next","forward","getCurrentTime","getDuration","setProgress"])),computed:Object(o["a"])({soundBtnClass:function(){return this.volume.value<=0?"icon-sound-mute":this.volume.value>=.7?"icon-sound":"icon-sound-half"},isPlaylistShow:function(){return this.$store.state.player.isPlaylistShow}},Object(P["c"])(["playBtnClass","player","currentTime","durationTime","progress"])),components:{ProgressBar:w,Playlist:B,PlaybackRate:W}},Y=X,D=(s("1149"),Object(C["a"])(Y,e,a,!1,null,null,null));i["default"]=D.exports},ed50:function(t,i,s){"use strict";var e=s("5ca1"),a=s("2e08"),o=s("a25f"),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);e(e.P+e.F*n,"String",{padEnd:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},ff27:function(t,i,s){"use strict";var e=s("3ea7"),a=s.n(e);a.a}}]);
//# sourceMappingURL=radio.6b209663.js.map